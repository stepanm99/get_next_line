==19766== Memcheck, a memory error detector
==19766== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==19766== Using Valgrind-3.21.0.GIT-lbmacos and LibVEX; rerun with -h for copyright info
==19766== Command: ./prog
==19766== 
==19766== Conditional jump or move depends on uninitialised value(s)
==19766==    at 0x100003B56: check_new_line (line_remove_test.c:196)
==19766==    by 0x100003996: read_fd (line_remove_test.c:116)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Conditional jump or move depends on uninitialised value(s)
==19766==    at 0x100003B56: check_new_line (line_remove_test.c:196)
==19766==    by 0x1000039D0: read_fd (line_remove_test.c:122)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Conditional jump or move depends on uninitialised value(s)
==19766==    at 0x100003AE7: buffer_length (line_remove_test.c:241)
==19766==    by 0x100003DEC: buffer_add_resize (line_remove_test.c:145)
==19766==    by 0x100003A47: read_fd (line_remove_test.c:128)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Invalid write of size 1
==19766==    at 0x100003EFA: buffer_to_buffer (line_remove_test.c:256)
==19766==    by 0x100003E84: buffer_add_resize (line_remove_test.c:157)
==19766==    by 0x100003A8E: read_fd (line_remove_test.c:132)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766==  Address 0x100826673 is 0 bytes after a block of size 3 alloc'd
==19766==    at 0x100124545: malloc (in /Users/smelicha/.brew/Cellar/valgrind/HEAD-9da5605/libexec/valgrind/vgpreload_memcheck-amd64-darwin.so)
==19766==    by 0x100003E1C: buffer_add_resize (line_remove_test.c:148)
==19766==    by 0x100003A8E: read_fd (line_remove_test.c:132)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Conditional jump or move depends on uninitialised value(s)
==19766==    at 0x100003EBF: buffer_to_buffer (line_remove_test.c:250)
==19766==    by 0x100003E84: buffer_add_resize (line_remove_test.c:157)
==19766==    by 0x100003A47: read_fd (line_remove_test.c:128)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Invalid write of size 1
==19766==    at 0x100003EFA: buffer_to_buffer (line_remove_test.c:256)
==19766==    by 0x100003E84: buffer_add_resize (line_remove_test.c:157)
==19766==    by 0x100003A47: read_fd (line_remove_test.c:128)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766==  Address 0x1008267b2 is 0 bytes after a block of size 2 alloc'd
==19766==    at 0x100124545: malloc (in /Users/smelicha/.brew/Cellar/valgrind/HEAD-9da5605/libexec/valgrind/vgpreload_memcheck-amd64-darwin.so)
==19766==    by 0x100003E1C: buffer_add_resize (line_remove_test.c:148)
==19766==    by 0x100003A47: read_fd (line_remove_test.c:128)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Conditional jump or move depends on uninitialised value(s)
==19766==    at 0x100003AE7: buffer_length (line_remove_test.c:241)
==19766==    by 0x1000039FA: read_fd (line_remove_test.c:124)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Conditional jump or move depends on uninitialised value(s)
==19766==    at 0x100003B56: check_new_line (line_remove_test.c:196)
==19766==    by 0x100003A2C: read_fd (line_remove_test.c:126)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Conditional jump or move depends on uninitialised value(s)
==19766==    at 0x100003B56: check_new_line (line_remove_test.c:196)
==19766==    by 0x100003D0B: line_remove (line_remove_test.c:213)
==19766==    by 0x100003A9B: read_fd (line_remove_test.c:133)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
==19766== Invalid read of size 1
==19766==    at 0x100003AE3: buffer_length (line_remove_test.c:241)
==19766==    by 0x10000392E: get_next_line (line_remove_test.c:104)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766==  Address 0x1008265a0 is 0 bytes inside a block of size 51 free'd
==19766==    at 0x10012491D: free (in /Users/smelicha/.brew/Cellar/valgrind/HEAD-9da5605/libexec/valgrind/vgpreload_memcheck-amd64-darwin.so)
==19766==    by 0x100003A0C: read_fd (line_remove_test.c:125)
==19766==    by 0x1000038FF: get_next_line (line_remove_test.c:101)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766==  Block was alloc'd at
==19766==    at 0x100124545: malloc (in /Users/smelicha/.brew/Cellar/valgrind/HEAD-9da5605/libexec/valgrind/vgpreload_memcheck-amd64-darwin.so)
==19766==    by 0x1000038C4: get_next_line (line_remove_test.c:98)
==19766==    by 0x100003831: main (line_remove_test.c:34)
==19766== 
File descriptor : 3

BUFFER_SIZE : 50

1


3
5==19766== 
==19766== HEAP SUMMARY:
==19766==     in use at exit: 18,010 bytes in 163 blocks
==19766==   total heap usage: 183 allocs, 20 frees, 22,817 bytes allocated
==19766== 
==19766== LEAK SUMMARY:
==19766==    definitely lost: 6,291 bytes in 64 blocks
==19766==    indirectly lost: 1,217 bytes in 21 blocks
==19766==      possibly lost: 0 bytes in 0 blocks
==19766==    still reachable: 0 bytes in 0 blocks
==19766==         suppressed: 10,502 bytes in 78 blocks
==19766== Rerun with --leak-check=full to see details of leaked memory
==19766== 
==19766== Use --track-origins=yes to see where uninitialised values come from
==19766== For lists of detected and suppressed errors, rerun with: -s
==19766== ERROR SUMMARY: 14 errors from 10 contexts (suppressed: 4 from 4)
